{% macro nav_link(endpoint, name) %}
{% if request.endpoint.endswith(endpoint) %}
<li class="active"><a href="{{ url_for(endpoint) }}">{{name}}</a></li>
{% else %}
<li><a href="{{ url_for(endpoint) }}">{{name}}</a></li>
{% endif %}
{% endmacro %}

{% macro render_field_with_errors(field) %}
<div class="form-group{% if field.errors %} has-error{% endif %}">
    <label for="{{ field.name }}" class="col-sm-2 control-label">{{ field.label }}</label>
    <div class="col-sm-6">
        {{ field(**kwargs)|safe }}
        {% if field.errors %}
        <div class="alert alert-danger">
            <strong>Error:</strong>
            <ul>
                {% for error in field.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</div>
{% endmacro %}