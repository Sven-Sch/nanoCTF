{% macro render_field_with_errors(field) %}
<div class="form-group{% if field.errors %} has-error{% endif %}">
    <label for="{{ field.name }}" class="col-sm-2 control-label">{{ field.label }}</label>
    <div class="col-sm-6">
        {{ field(**kwargs)|safe }}
        {% if field.errors %}
        <div class="alert alert-danger">
            <strong>Error:</strong>
            <ul>
                {% for error in field.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</div>
{% endmacro %}

{% macro render_field(field) %}
<p>{{ field(**kwargs)|safe }}</p>
{% endmacro %}